<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Spacing Comparison - Current State</title>
  <style>
    :root {
      --color-deep: #141210;
      --color-cream: #e8ddd4;
      --color-accent-hover: #93c5fd;
      --color-meta: #9c958c;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      background: var(--color-deep);
      color: var(--color-cream);
      font-family: -apple-system, sans-serif;
      padding: 2rem;
    }

    .header {
      max-width: 1600px;
      margin: 0 auto 2rem;
      padding-bottom: 1rem;
      border-bottom: 1px solid rgba(255,255,255,0.1);
    }

    h1 {
      font-size: 1.5rem;
      font-weight: 500;
      margin-bottom: 0.5rem;
    }

    .description {
      color: var(--color-meta);
      font-size: 0.95rem;
    }

    .comparison-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 1rem;
      max-width: 1600px;
      margin: 0 auto;
      position: relative;
    }

    .page-container {
      position: relative;
      background: #1a1816;
      border: 1px solid rgba(255,255,255,0.1);
      border-radius: 4px;
      overflow: hidden;
    }

    .page-label {
      padding: 0.75rem 1rem;
      background: rgba(0,0,0,0.3);
      border-bottom: 1px solid rgba(255,255,255,0.1);
      font-size: 0.85rem;
      font-weight: 600;
      color: var(--color-accent-hover);
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    .iframe-container {
      height: 600px;
      overflow: hidden;
      position: relative;
      background: var(--color-deep);
    }

    iframe {
      width: 100%;
      height: 100%;
      border: none;
      transform-origin: top left;
      transform: scale(0.8);
      width: 125%;
      height: 125%;
    }

    .alignment-guide {
      position: absolute;
      left: 0;
      right: 0;
      height: 2px;
      background: var(--color-accent-hover);
      opacity: 0.5;
      z-index: 10;
      pointer-events: none;
    }

    .guide-label {
      position: absolute;
      right: 0.5rem;
      top: -0.75rem;
      font-size: 0.7rem;
      color: var(--color-accent-hover);
      background: var(--color-deep);
      padding: 0.1rem 0.3rem;
      border-radius: 2px;
    }

    .spacing-value {
      padding: 0.5rem 1rem;
      background: rgba(59, 130, 246, 0.1);
      border-top: 1px solid rgba(147, 197, 253, 0.2);
      font-size: 0.85rem;
      color: var(--color-meta);
      font-family: monospace;
    }

    .controls {
      max-width: 1600px;
      margin: 0 auto 2rem;
      padding: 1.5rem;
      background: rgba(255,255,255,0.03);
      border: 1px solid rgba(255,255,255,0.1);
      border-radius: 4px;
    }

    .control-label {
      font-size: 0.95rem;
      margin-bottom: 1rem;
      color: var(--color-cream);
      font-weight: 500;
    }

    .button-group {
      display: flex;
      gap: 0.75rem;
      flex-wrap: wrap;
    }

    button {
      padding: 0.75rem 1.5rem;
      background: rgba(147, 197, 253, 0.1);
      border: 1px solid rgba(147, 197, 253, 0.3);
      border-radius: 4px;
      color: var(--color-cream);
      cursor: pointer;
      font-size: 0.9rem;
      transition: all 0.2s;
    }

    button:hover {
      background: rgba(147, 197, 253, 0.2);
      border-color: var(--color-accent-hover);
    }

    button.active {
      background: var(--color-accent-hover);
      color: var(--color-deep);
      border-color: var(--color-accent-hover);
      font-weight: 600;
    }

    .button-description {
      font-size: 0.8rem;
      color: var(--color-meta);
      margin-top: 0.25rem;
      display: block;
    }

    .note {
      max-width: 1600px;
      margin: 2rem auto 0;
      padding: 1rem 1.5rem;
      background: rgba(59, 130, 246, 0.1);
      border-left: 3px solid var(--color-accent-hover);
      border-radius: 4px;
      font-size: 0.9rem;
      color: var(--color-meta);
      line-height: 1.6;
    }
  </style>
</head>
<body>
  <div class="header">
    <h1>Page Spacing Comparison</h1>
    <p class="description">Compare how main content starts across your four main pages. The blue line shows where headings/content begins.</p>
  </div>

  <div class="controls">
    <div class="control-label">Choose spacing approach to preview:</div>
    <div class="button-group">
      <button class="active" data-spacing="current">
        Current State
        <span class="button-description">See existing differences</span>
      </button>
      <button data-spacing="unified">
        Variation 1: Unified (3.75rem)
        <span class="button-description">All pages aligned</span>
      </button>
      <button data-spacing="breathing">
        Variation 2: Breathing Room (4.5rem)
        <span class="button-description">All pages aligned + spacious</span>
      </button>
      <button data-spacing="twotier">
        Variation 3: Two-Tier
        <span class="button-description">Index 3.75rem / Content 4.5rem</span>
      </button>
    </div>
  </div>

  <div class="comparison-grid">
    <div class="page-container">
      <div class="page-label">Home (Index)</div>
      <div class="iframe-container">
        <div class="alignment-guide" id="guide-home">
          <span class="guide-label">Content start</span>
        </div>
        <iframe src="http://127.0.0.1:4000/" id="iframe-home"></iframe>
      </div>
      <div class="spacing-value" id="value-home">Current: 3.75rem (60px)</div>
    </div>

    <div class="page-container">
      <div class="page-label">About</div>
      <div class="iframe-container">
        <div class="alignment-guide" id="guide-about">
          <span class="guide-label">Content start</span>
        </div>
        <iframe src="http://127.0.0.1:4000/about" id="iframe-about"></iframe>
      </div>
      <div class="spacing-value" id="value-about">Current: 3.75rem (60px)</div>
    </div>

    <div class="page-container">
      <div class="page-label">Now</div>
      <div class="iframe-container">
        <div class="alignment-guide" id="guide-now">
          <span class="guide-label">Content start</span>
        </div>
        <iframe src="http://127.0.0.1:4000/now" id="iframe-now"></iframe>
      </div>
      <div class="spacing-value" id="value-now">Current: 3.75rem (60px)</div>
    </div>

    <div class="page-container">
      <div class="page-label">Projects</div>
      <div class="iframe-container">
        <div class="alignment-guide" id="guide-projects">
          <span class="guide-label">Content start</span>
        </div>
        <iframe src="http://127.0.0.1:4000/projects" id="iframe-projects"></iframe>
      </div>
      <div class="spacing-value" id="value-projects">Current: 2.25rem (36px) + content spacing</div>
    </div>
  </div>

  <div class="note">
    <strong>Current Issue:</strong> The Projects page has reduced top spacing (2.25rem via padding-top: 0.75 Ã— 3rem) compared to other pages (3.75rem via main margin). This causes the "Projects" heading to sit higher than "About me", "What I'm doing now", and "Latest" on the home page.
  </div>

  <script>
    // Wait for iframes to load, then position alignment guides
    const iframes = document.querySelectorAll('iframe');
    let loadedCount = 0;

    function positionGuides() {
      setTimeout(() => {
        // Home - finds the "Latest" label
        try {
          const homeDoc = document.getElementById('iframe-home').contentDocument;
          const homeFirst = homeDoc.querySelector('.latest-label') || homeDoc.querySelector('main > *');
          if (homeFirst) {
            const rect = homeFirst.getBoundingClientRect();
            document.getElementById('guide-home').style.top = (rect.top * 0.8) + 'px';
          }
        } catch(e) {}

        // About - finds the H1
        try {
          const aboutDoc = document.getElementById('iframe-about').contentDocument;
          const aboutFirst = aboutDoc.querySelector('h1');
          if (aboutFirst) {
            const rect = aboutFirst.getBoundingClientRect();
            document.getElementById('guide-about').style.top = (rect.top * 0.8) + 'px';
          }
        } catch(e) {}

        // Now - finds the H1
        try {
          const nowDoc = document.getElementById('iframe-now').contentDocument;
          const nowFirst = nowDoc.querySelector('h1');
          if (nowFirst) {
            const rect = nowFirst.getBoundingClientRect();
            document.getElementById('guide-now').style.top = (rect.top * 0.8) + 'px';
          }
        } catch(e) {}

        // Projects - finds the H1
        try {
          const projectsDoc = document.getElementById('iframe-projects').contentDocument;
          const projectsFirst = projectsDoc.querySelector('h1');
          if (projectsFirst) {
            const rect = projectsFirst.getBoundingClientRect();
            document.getElementById('guide-projects').style.top = (rect.top * 0.8) + 'px';
          }
        } catch(e) {}
      }, 500);
    }

    iframes.forEach(iframe => {
      iframe.addEventListener('load', () => {
        loadedCount++;
        if (loadedCount === iframes.length) {
          positionGuides();
        }
      });
    });

    // Button controls
    const buttons = document.querySelectorAll('button[data-spacing]');
    buttons.forEach(button => {
      button.addEventListener('click', () => {
        buttons.forEach(b => b.classList.remove('active'));
        button.classList.add('active');

        const spacing = button.dataset.spacing;
        updateSpacing(spacing);
      });
    });

    function updateSpacing(type) {
      const values = {
        current: { home: '60px', about: '60px', now: '60px', projects: '36px + content' },
        unified: { home: '60px', about: '60px', now: '60px', projects: '60px' },
        breathing: { home: '72px', about: '72px', now: '72px', projects: '72px' },
        twotier: { home: '60px', about: '72px', now: '72px', projects: '60px' }
      };

      const labels = {
        current: { home: '3.75rem', about: '3.75rem', now: '3.75rem', projects: '2.25rem' },
        unified: { home: '3.75rem', about: '3.75rem', now: '3.75rem', projects: '3.75rem' },
        breathing: { home: '4.5rem', about: '4.5rem', now: '4.5rem', projects: '4.5rem' },
        twotier: { home: '3.75rem', about: '4.5rem', now: '4.5rem', projects: '3.75rem' }
      };

      document.getElementById('value-home').textContent = `${labels[type].home} (${values[type].home})`;
      document.getElementById('value-about').textContent = `${labels[type].about} (${values[type].about})`;
      document.getElementById('value-now').textContent = `${labels[type].now} (${values[type].now})`;
      document.getElementById('value-projects').textContent = `${labels[type].projects} (${values[type].projects})`;

      // Visual guide adjustment
      if (type === 'current') {
        positionGuides();
      } else {
        // Simulate aligned positions
        const baseTop = 110; // Approximate scaled position

        if (type === 'unified') {
          document.getElementById('guide-home').style.top = baseTop + 'px';
          document.getElementById('guide-about').style.top = baseTop + 'px';
          document.getElementById('guide-now').style.top = baseTop + 'px';
          document.getElementById('guide-projects').style.top = baseTop + 'px';
        } else if (type === 'breathing') {
          const breathTop = 125;
          document.getElementById('guide-home').style.top = breathTop + 'px';
          document.getElementById('guide-about').style.top = breathTop + 'px';
          document.getElementById('guide-now').style.top = breathTop + 'px';
          document.getElementById('guide-projects').style.top = breathTop + 'px';
        } else if (type === 'twotier') {
          document.getElementById('guide-home').style.top = baseTop + 'px';
          document.getElementById('guide-about').style.top = (baseTop + 15) + 'px';
          document.getElementById('guide-now').style.top = (baseTop + 15) + 'px';
          document.getElementById('guide-projects').style.top = baseTop + 'px';
        }
      }
    }
  </script>
</body>
</html>
